function idMethod(){return window.location.href.substring(window.location.href.lastIndexOf("#")+1)}$("#player-view").click(function(){window.location="/projects/player/#"+projectId});var projectId=idMethod();projectId===window.location.href||""===projectId?(projectId=localStorage.length,window.location.replace("#"+projectId),localStorage[projectId]={name:"untitled"}):localStorage[projectId]||(window.location.replace("#"),window.location.reload());var fileMenu=$("#file-options").attr("style","list-style-type:none").text("").hide(),editMenu=$("#edit-options").attr("style","list-style-type:none").text("").hide(),shareMenu=$("#share-options").attr("style","list-style-type:none").text("").hide();$(fileMenu).html("<a class='menubtn' href=javascript:void(0)><li class='menuitem'>New...</li></a><a class='menubtn' href=javascript:void(0)><li class='menuitem' style='border-bottom: 1px solid black;border-collapse:collapse;cursor:not-allowed;color:grey'>Save</li></a><a class='menubtn' href=javascript:void(0)><li class='menuitem' style='border-top: 1px solid black;border-collapse:collapse'>Download</li></a><a class='menubtn' href=javascript:void(0)><li class='menuitem' style='border-bottom: 1px solid black;border-collapse:collapse'>Upload</li></a><a class='menubtn' href=javascript:void(0)><li class='menuitem' style='border-top: 1px solid black;border-collapse:collapse'>Compile...</li></a>"),$(editMenu).html("<a class='menubtn' href='javascript:void(0)'><li class='menuitem' id='toggle-update-edit'>Disable auto-update...</li></a><a class='menubtn' href='javascript:void(0)'><li class='menuitem' id='update-edit' style='cursor:not-allowed;color:grey'>Update</li></a>"),$(".menuitem").hover(function(event){$(event.currentTarget).css({"background-color":"LightGrey"})},function(event){$(event.currentTarget).css({"background-color":"White"})}).css({"background-color":"White"}),$(".menuitem").click(function(event){"New..."===$(event.currentTarget).text()&&(window.location.replace("#"),window.location.reload())});var fileMenus={file:{},edit:{},share:{}};fileMenus.file.toggle=!1,fileMenus.edit.toggle=!1,fileMenus.share.toggle=!1,fileMenus.done=!0,$("#file-menu").click(function(){fileMenus.done&&(fileMenus.done=!1,fileMenus.file.toggle?(fileMenus.file.toggle=!1,$(fileMenu).slideUp()):(fileMenus.file.toggle=!0,fileMenus.edit.toggle?($(editMenu).slideUp(),setTimeout(function(){$(fileMenu).slideDown()},400)):fileMenus.share.toggle?(fileMenus.share.toggle=!1,$(shareMenu).slideUp(),setTimeout(function(){$(fileMenu).slideDown()},400)):$(fileMenu).slideDown()),fileMenus.done=!0)}),$("#edit-menu").click(function(){fileMenus.done&&(fileMenus.done=!1,fileMenus.edit.toggle?(fileMenus.edit.toggle=!1,$(editMenu).slideUp()):(fileMenus.edit.toggle=!0,fileMenus.file.toggle?(fileMenus.file.toggle=!1,$(fileMenu).slideUp(),setTimeout(function(){$(editMenu).slideDown()},400)):fileMenus.share.toggle?(fileMenus.share.toggle=!1,$(shareMenu).slideUp(),setTimeout(function(){$(editMenu).slideDown()},400)):$(editMenu).slideDown()),fileMenus.done=!0)});var categories={},menus={};function Block(type,spec,text,category,descriptor){this.code=descriptor.code,this.type=type,this.spec=spec,this.text=text,this.category=category,descriptor.parameterNameDefaults&&(this.paramaterNameDefaults=descriptor.parameterNameDefaults),descriptor.buttonLeft&&(this.buttonLeft=descriptor.buttonLeft),descriptor.buttonRight&&(this.buttonRight=descriptor.buttonRight),this.desc=descriptor,this.element=document.createElement("canvas"),$(this.element).data("spec",spec).addClass("block")}Block.prototype.render=function(){return this},Block.prototype.execute=function(whenDone){for(var bunch=[],codeLength=this.descriptor.code.length,currentBunch="",currentChar="",i=0,inBunch=!1,k=0,unparsed=this.descriptor.code;i<codeLength;i++)if(currentChar=unparsed[i],inBunch&&"~"===currentChar)for(inBunch=!1;k<currentBunch.length;k++);else"~"===currentChar?(inBunch=!0,bunch.append(currentBunch),currentBunch=""):currentBunch+=currentChar;return whenDone(""),this},module.exports.runScript=function(){categories={"":[]},menus={},new Block("h","doctype","document type: HTML 5.0","",{code:"<!DOCTYPE html>",hidden:"true",moveable:"false"}).render()};